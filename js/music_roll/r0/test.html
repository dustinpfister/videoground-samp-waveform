<html>
<head>

<style>
th{
  padding: 10px;
  background: #4a4a4a;
}
td{
  padding: 10px;
  background: #9a9a9a;
}
</style>
</head>

<div id="out">
</div>

<script src="./music_roll.js"></script>
<script>

const song = `
-- -; -- -;
-- -; -- -;
-- -; -- -;
f5 1; c1 1;
-- -; -- -;
f5 1; -- -;
-- -; -- -;
f5 1; -- -;
-- -; -- -;
g5 1; -- -;
-- -; -- -;
f5 1;  0 0;
-- -; -- -;
f5 1; -- -;
-- -; -- -;
c5 1; -- -;
-- -; -- -;
-- -; -- -;
-- -; -- -;
 0 0; -- -;
`;

const out = document.querySelector('#out')
const result = Music_roll.parse( song );


let html = '<table><tr><th>line</th>';
result[0].forEach( (a, i_track) => {
    html += '<th>track: ' + i_track +'</th>';
});
html += '</tr>';
result.forEach( (a, i_line) => {
    html += '<tr><td> ' + i_line + ') </td>';
    a.forEach( (b, i_track) => {
        html += '<td> freq: ' + b.freq  + '; amp: ' + b.amp + '; ' + b.n + '/' + b.d + '</td>';
    });
    html += '</tr>';
});
out.innerHTML = html + '</table>'

</script>

</html>
